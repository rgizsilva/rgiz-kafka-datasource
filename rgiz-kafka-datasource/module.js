/* [create-plugin] version: 5.13.0 */
define(["@grafana/data","@grafana/runtime","@grafana/ui","module","react","rxjs"],((e,t,r,n,a,o)=>(()=>{"use strict";var l={781:t=>{t.exports=e},531:e=>{e.exports=t},7:e=>{e.exports=r},308:e=>{e.exports=n},959:e=>{e.exports=a},269:e=>{e.exports=o}},i={};function u(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return l[e](r,r.exports,u),r.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="public/plugins/dalelane-kafka-datasource/";var c={};u.r(c),u.d(c,{plugin:()=>C});var s=u(308),p=u.n(s);u.p=p()&&p().uri?p().uri.slice(0,p().uri.lastIndexOf("/")+1):"public/plugins/dalelane-kafka-datasource/";var b=u(781),d=u(531),f=u(269);const m={topicName:"TOPIC_NAME"};function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){g(e,t,r[t])}))}return e}class O extends d.DataSourceWithBackend{query(e){const t=e.targets.map((e=>(0,d.getGrafanaLiveSrv)().getDataStream({addr:{scope:b.LiveChannelScope.DataSource,namespace:this.uid,path:e.topicName,data:y({},e)}})));return(0,f.merge)(...t)}getDefaultQuery(e){return m}filterQuery(e){return!(e.hide||!e.topicName||""===e.topicName.trim()||e.topicName===m.topicName)}constructor(e){super(e)}}var j=u(959),v=u.n(j),h=u(7);function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const C=new b.DataSourcePlugin(O).setConfigEditor((function(e){var t;const{onOptionsChange:r,options:n}=e,{bootstrapservers:a,clientid:o,groupid:l,authtype:i,username:u,usetls:c}=n.jsonData,s=[{label:"None",value:"none"},{label:"SCRAM-SHA-256",value:"SCRAM-SHA-256"},{label:"SCRAM-SHA-512",value:"SCRAM-SHA-512"}];return v().createElement(h.FieldSet,{label:"Connection"},v().createElement(h.InlineFieldRow,null,v().createElement(h.InlineField,{label:"Bootstrap servers",labelWidth:30,tooltip:"host:port"},v().createElement(h.Input,{width:50,required:!0,value:a,autoComplete:"off",placeholder:"localhost:9092",onChange:e=>{r(S(P({},n),{jsonData:S(P({},n.jsonData),{bootstrapservers:e.target.value})}))}}))),v().createElement(h.InlineFieldRow,null,v().createElement(h.InlineField,{label:"Client Id",labelWidth:30},v().createElement(h.Input,{width:25,required:!0,value:o,autoComplete:"off",placeholder:"grafana",onChange:e=>{r(S(P({},n),{jsonData:S(P({},n.jsonData),{clientid:e.target.value})}))}}))),v().createElement(h.InlineFieldRow,null,v().createElement(h.InlineField,{label:"Consumer Group Id",labelWidth:30},v().createElement(h.Input,{width:25,required:!0,value:l,autoComplete:"off",placeholder:"grafana",onChange:e=>{r(S(P({},n),{jsonData:S(P({},n.jsonData),{groupid:e.target.value})}))}}))),v().createElement(h.InlineFieldRow,null,v().createElement(h.InlineField,{label:"Authentication type",labelWidth:20},v().createElement(h.Select,{required:!0,width:25,isMulti:!1,backspaceRemovesValue:!1,isClearable:!1,defaultValue:s[0],value:i,options:s,onChange:e=>{r(S(P({},n),{jsonData:S(P({},n.jsonData),{authtype:e.value||"none"})}))}})),v().createElement(h.InlineField,{label:"username",labelWidth:15},v().createElement(h.Input,{width:25,value:u,autoComplete:"off",disabled:"none"===i,onChange:e=>{r(S(P({},n),{jsonData:S(P({},n.jsonData),{username:e.target.value})}))}})),v().createElement(h.InlineField,{label:"password",labelWidth:15},v().createElement(h.Input,{width:25,type:"password",value:null===(t=n.secureJsonData)||void 0===t?void 0:t.password,autoComplete:"off",disabled:"none"===i,onChange:e=>{r(S(P({},n),{secureJsonData:S(P({},n.secureJsonData),{password:e.target.value})}))}}))),v().createElement(h.InlineFieldRow,null,v().createElement(h.InlineField,{label:"Use TLS"},v().createElement(h.Checkbox,{value:c,checked:c,onChange:e=>{r(S(P({},n),{jsonData:S(P({},n.jsonData),{usetls:e.target.checked})}))}}))))})).setQueryEditor((function({query:e,onChange:t,onRunQuery:r}){const{topicName:n}=e;return v().createElement(h.Stack,null,v().createElement(h.InlineField,{label:"Topic name",labelWidth:20,tooltip:"topic to consume from"},v().createElement(h.Input,{onChange:r=>{t(E(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){D(e,t,r[t])}))}return e}({},e),{topicName:r.target.value}))},onBlur:r,value:n||"",type:"string"})))}));return c})()));
//# sourceMappingURL=module.js.map